(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageA/carlive/tirelist/tirelist"],{"57fe":function(e,t,r){},"5fc0":function(e,t,r){"use strict";r.r(t);var i=r("c155"),n=r.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(u);t["default"]=n.a},"72c4":function(e,t,r){"use strict";(function(e,t){var i=r("4ea4");r("34b8");i(r("66fd"));var n=i(r("baf6"));e.__webpack_require_UNI_MP_PLUGIN__=r,t(n.default)}).call(this,r("bc2e")["default"],r("543d")["createPage"])},baf6:function(e,t,r){"use strict";r.r(t);var i=r("ea6c"),n=r("5fc0");for(var u in n)["default"].indexOf(u)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(u);r("c214");var a=r("f0c5"),o=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=o.exports},c155:function(e,t,r){"use strict";(function(e){var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("9523")),u=r("cbfb"),a=r("449b"),o={data:function(){var e;return{form:{name:"",feedid:""},rules:(e={tireNo:[{required:!0,message:"胎号不能为空",trigger:["blur"]}]},(0,n.default)(e,"tireNo",[{required:!0,message:"胎号不能为空",trigger:"blur"}]),(0,n.default)(e,"category",[{required:!0,message:"轮胎类别不能为空",trigger:"blur"}]),(0,n.default)(e,"warehouseId",[{required:!0,message:"仓库名称不能为空",trigger:"blur"}]),(0,n.default)(e,"tireId",[{required:!0,message:"品牌不能为空",trigger:"blur"}]),(0,n.default)(e,"pattern",[{required:!0,message:"花纹型号不能为空",trigger:"blur"}]),(0,n.default)(e,"price",[{required:!0,message:"单价不能为空",trigger:"blur"},{pattern:/^(0|([1-9][0-9]*))(\.[\d]{1,2})?$/,message:"单价格式不正确",trigger:"blur"}]),(0,n.default)(e,"depth",[{required:!0,message:"新花纹深度不能为空",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"花纹深不能为负数",trigger:"blur"}]),(0,n.default)(e,"totalMileage",[{pattern:/^\d+(\.\d+)?$/,message:"累计里程不能为负数",trigger:"blur"}]),(0,n.default)(e,"totalDuration",[{pattern:/^\d+(\.\d+)?$/,message:"累计时长不能为负数",trigger:"blur"}]),(0,n.default)(e,"stockStatus",[{required:!0,message:"轮胎状态不能为空",trigger:"blur"}]),(0,n.default)(e,"specificationsId",[{required:!0,message:"规格不能为空",trigger:"blur"}]),(0,n.default)(e,"firstDepth",[{required:!0,message:"初测花纹深度不能为空",trigger:"change"},{pattern:/^\d+(\.\d+)?$/,message:"初测花纹深度不能为负数",trigger:"blur"}]),(0,n.default)(e,"tireBrandId",[{required:!0,message:"品牌不能为空",trigger:"blur"}]),e),expireDate:{show:!1,mode:"single"},show:!1,columns:[],tireclass:[],tirestatu:[],houselist:[],pinpai:[],guige:[]}},methods:{submit:function(){var t=this;this.$refs.uForm.validate().then((function(r){(0,a.addtire)(t.form).then((function(t){200==t.code?e.$u.toast("轮胎入库成功"):e.$u.toast(t.message)}))})).catch((function(t){e.$u.toast("校验失败,请完整填写表单")}))},nextadd:function(){var t=this;this.$refs.uForm.validate().then((function(r){(0,a.addtire)(t.form).then((function(r){200==r.code?(e.$u.toast("轮胎入库成功"),t.reset()):e.$u.toast(r.message)}))})).catch((function(t){e.$u.toast("校验失败,请完整填写表单")}))},reset:function(){this.form.tireNo="",this.form.insideTireNo="",this.form.category="",this.form.stockStatus="",this.form.warehouseId="",this.form.senderId="",this.form.rfidCode="",this.form.tireBrandId="",this.form.expireDate="",this.form.specificationsId="",this.form.pattern="",this.form.speedLevel="",this.form.loadIndex="",this.form.price="",this.form.depth="",this.form.firstDepth="",this.form.totalMileage="",this.$refs.uForm.clearValidate()},gogogo:function(e){this.form.stockStatus="",this.tirestatu=0==e?[{text:"库存全新胎",value:"10"}]:3==e?[{text:"库存翻新胎",value:"11"}]:[{text:"待用胎",value:"15"},{text:"待修补",value:"30"}]},warehousechange:function(e){var t=this;console.log(e),this.houselist.map((function(r){r.value==e&&(t.form.warehouseName=r.text)}))},specificati:function(e){var t=this;this.guige.map((function(r){r.value==e&&(t.form.specificationsName=r.text)}))},brandr:function(e){var t=this;this.pinpai.map((function(r){r.value==e&&(t.form.tireBrandName=r.text)}))},can:function(){var t=this;e.scanCode({success:function(e){t.form.tireNo=e.result,t.$forceUpdate(),console.log(t.form.tireNo)},fail:function(e){t.$refs.uToast.show({type:"error",message:e,iconUrl:"https://cdn.uviewui.com/uview/demo/toast/error.png"})},complete:function(){console.log("扫码结束")}})}},onReady:function(){this.$refs.uForm.setRules(this.rules)},mounted:function(){var e=this;(0,a.listDept)().then((function(t){e.columns=t.data})),(0,u.getDicts)("lifecycle_tire_category").then((function(t){t.data.map((function(t){e.tireclass.push({text:t.dictLabel,value:t.dictValue})}))})),(0,a.warehouselist)({pageNum:1,pageSize:1e4}).then((function(t){e.houselist=t.data.items.map((function(e){return{value:e.id,text:e.warehouseName}}))})),(0,a.getTireBands)().then((function(t){e.pinpai=t.data.map((function(e){return{value:e.paramId,text:e.paramName}}))})),(0,a.getSpecifications)().then((function(t){e.guige=t.data.map((function(e){return{value:e.paramId,text:e.paramName}}))}))}};t.default=o}).call(this,r("543d")["default"])},c214:function(e,t,r){"use strict";var i=r("57fe"),n=r.n(i);n.a},ea6c:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return i}));var i={uForm:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-form/u-form")]).then(r.bind(null,"4980"))},uFormItem:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(r.bind(null,"e3e76"))},"u-Input":function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u--input/u--input")]).then(r.bind(null,"7e06"))},uButton:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-button/u-button")]).then(r.bind(null,"eb85"))}},n=function(){var e=this.$createElement;this._self._c;this.$mp.data=Object.assign({},{$root:{a0:{"font-size":"32upx",color:"#010914"}}})},u=[]}},[["72c4","common/runtime","common/vendor"]]]);